# プロジェクト状況レポート

## 現在の状況
**フェーズ:** シミュレーター機能拡張 & 動作検証 (進行中)

データ駆動型の当たり判定システムへの移行が完了し、シミュレーターの機能拡張も実装されました。現在は新機能の検証フェーズに入ります。

### 1. エンジン (`engine.js`)
- **完全なデータ駆動化**: 完了。
- **高度な当たり判定**: `DESTROY`, `PIERCE`, `REFLECT`, `SPLIT`, `DIRECTIONAL_SHIELD` の全ロジック実装済み。

### 2. ライブラリ (`data/library/`)
- **新エンティティ**: `ricochet_orb` (反射), `split_burst` (分裂), `test_piercing_laser` (貫通) 定義済み。

### 3. シミュレーター (`sim/test_simulator.html`)
- **JSONエディタ実装完了**: 
    - Bullet Sim タブにて、`Collision (JSON)` エディタが追加されました。
    - これにより、コードを書き換えることなく、ブラウザ上で直接当たり判定パラメータ（形状、サイズ、反射/分裂挙動など）を編集・テスト可能です。

## 次のステップ
1. **動作検証 (Verification)**:
   - 拡張されたシミュレーターを使用して、以下の挙動を重点的にテストします。
     - `ricochet_orb`: 壁での反射、減衰、反射回数制限。
     - `split_burst`: 着弾時の分裂、分裂した弾の挙動。
     - `DIRECTIONAL_SHIELD`: 特定方向からの攻撃無効化と反射。

2. **ステージへの組み込み**:
   - 検証済みの弾幕パターンを実際のステージデータ (`data/pack/`) に組み込み、ゲームプレイとしてのバランスを調整します。

## 備忘録
- シミュレーターで JSON を編集した後、必ず「Apply Config」ボタンを押して反映させること。
